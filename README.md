# Reflections
Deployment dapat dilihat di [sini](https://eshop-advprog-zanark-org.koyeb.app/).

- [Modul 1](#modul-1)
- [Modul 2](#modul-2)

## Modul 1

### Refleksi 1
> You already implemented two new features using Spring Boot. Check again your source code and evaluate the coding standards that you have learned in this module. Write clean code principles and secure coding practices that have been applied to your code. If you find any mistake in your source code, please explain how to improve your code. Please write your reflection inside the repository's README.md file.

Pada source code saya, saya telah menerapkan beberapa prinsip clean code, seperti membuat setiap method hanya melakukan suatu hal saja, tidak melakukan hal-hal lain, memberikan nama method dan variable sesuai dengan apa yang dilakukan atau disimpan dari method atau variable tersebut, dan membuat classes yang mempunyai tujuannya sendiri juga, tidak mencampurnya semua dalam sebuah class. Selain itu, saya juga telah menerapkan secure coding practice pada fitur edit dan delete product dengan mengecek apakah id dari product yang ingin di edit/delete ada atau tidak, jika id tersebut tidak ada, program akan melempar Exception bahwa product dengan id yang diinginkan tidak ada. Generasi id tersebut juga sudah aman karena menggunakan library UUID milik Java dan tidak dapat di set oleh pengguna. Penggunaan framework Spring Boot dengan Thymeleaf juga sudah memberikan lapisan keamanan sederhana, seperti validasi input integer sehingga tidak overflow. Namun, menurut saya masih ada beberapa hal yang dapat ditingkatkan dalam source code saya, seperti penambahan bagian yang mengurus error agar website tidak mengeluarkan stack trace error.

### Refleksi 2
> After writing the unit test, how do you feel? How many unit tests should be made in a class? How to make sure that our unit tests are enough to verify our program? It would be good if you learned about code coverage. Code coverage is a metric that can help you understand how much of your source is tested. If you have 100% code coverage, does that mean your code has no bugs or errors?

Setelah menulis beberapa unit test, saya merasa lebih yakin bahwa method-method yang telah saya buat bekerja sesuai dengan ekspektasi. Menurut saya, banyak unit test yang terdapat dalam sebuah class jangan terlalu sedikit, tetapi jangan terlalu banyak juga, harus dapat menemukan titik tengah yang baik agar semua method/function dalam sebuah class dapat di test dengan baik. Untuk mengecek unit test yang kita buat sudah mencukupi untuk memverifikasi program yang kita buat, idealnya test yang kita buat dapat mencapai 100% code coverage, karena code coverage merupakan metric yang secara simpel melihat apakah semua baris code yang ada dalam source code dieksekusi. 100% coverage berarti semua baris berhasil dieksekusi, namun 100% coverage masih belum menjamin bahwa code kita tidak ada bug atau error, karena coverage hanya menjamin x% baris code telah tereksekusi. Masih ada kemungkinan beberapa edge case yang tidak terpikirkan oleh kita untuk kita tulis dalam unit test yang kita buat.

> Suppose that after writing the CreateProductFunctionalTest.java along with the corresponding test case, you were asked to create another functional test suite that verifies the number of items in the product list. You decided to create a new Java class similar to the prior functional test suites with the same setup procedures and instance variables.
What do you think about the cleanliness of the code of the new functional test suite? Will the new code reduce the code quality? Identify the potential clean code issues, explain the reasons, and suggest possible improvements to make the code cleaner! Please write your reflection inside the repository's README.md file.

Berdasarkan code `CreateProductFunctionalTest.java` yang saya buat, terdapat beberapa hal yang akan menjadi pengulangan jika saya melakukan setup yang sama, seperti inisiasi variable baseUrl dan endpoint yang akan digunakan, inisiasi variable port, library-library yang akan di import, serta ada beberapa bagian code yang sama. Jika saya ingin memverifikasi jumlah item yang terdapat dalam list product, tentu saya harus membuat produk-produknya dahulu, karena pada awalnya tidak ada produk yang tersedia. Bagian ini sama saja seperti pada saat saya melakukan testing untuk membuat product pada `CreateProductFunctionalTest.java`. Walaupun sebenarnya bisa saja saya membuat product secara programmatic lalu baru melakukan verifikasi banyak barang secara functional, menurut saya ini bisa saja digabungkan dengan file functional test yang sudah ada. Kemudian, untuk memverifikasi jumlah product yang ada dalam list product, saya menghitung banyaknya elemen `<td>` yang ada dalam HTML, dengan 1 product menghasilkan 4 elemen `<td>`. Cara tersebut juga saya gunakan untuk memverifikasi keberadaan product yang saya telah buat pada functional test create product, sehingga sekali lagi, bisa saja saya gabungkan dengan test tersebut. Namun, salah satu masalahnya dengan penggabungan ini adalah panjangnya method yang akan terbentuk, karena akan membuat beberapa produk baru lalu di verifikasi. Menurut saya, salah satu cara mengatasi ini adalah dengan melakukan setup beberapa product secara programmatic dahulu, kemudian untuk test create product, dibuat lagi suatu product baru dengan cara memverifikasi keberhasilan create product tersebut dengan cara lain selain menghitung jumlah elemen `<td>` yang terdapat pada halaman, dan kemudian baru mengecek banyaknya product dalam list product dengan menghitung jumlah elemen `<td>`.


## Modul 2
> List the code quality issue(s) that you fixed during the exercise and explain your strategy on fixing them.

Code quality issues yang saya perbaiki cukup minor, yaitu hanya memperbaiki statement `if` yang seharusnya menggunakan kurung kurawal meskipun hanya ada 1 statement setelahnya dan menghapus modifier `public` dari method yang di deklarasi pada interface `PublicService`. List code quality issues tersebut dapat dilihat pada link [berikut](https://github.com/MightyZanark/eshop-adpro/security/code-scanning?query=is%3Aclosed+branch%3Amaster). Strategi saya dalam memperbaiki code quality issues tersebut adalah melihat permasalahannya di tab `Security` di GitHub dan melakukan apa yang diminta permasalahan tersebut.

> Look at your CI/CD workflows (GitHub)/pipelines (GitLab). Do you think the current implementation has met the definition of Continuous Integration and Continuous Deployment? Explain the reasons (minimum 3 sentences)!

Menurut saya, workflow CI/CD yang telah saya implementasikan sejauh ini sudah dapat dikatakan memenuhi definisi Continuous Integration dan Continuous Deployment secara basic. Dari workflow CI/CD yang saya implementasikan, 3 diantaranya merupakan workflow CI dan satu merupakan workflow CD. Workflow CI yang saya miliki meliputi workflow untuk mengetes apakah ketika saya mengubah atau menambahkan code, hasil perubahan/penambahan tersebut dapat merusak fitur-fitur lain. Selain itu, ada juga workflow untuk memastikan ketika saya mengubah atau menambahakan code ke code base saya, code yang saya tulis itu tidak menimbulkan code quality issues atau mengintroduce vulnerability. Untuk workflow CD, saya melakukan deployment di Koyeb, sehingga workflow deploymentnya sudah di konfigurasi oleh Koyeb sendiri dan saya hanya mengkonfigurasi agar workflow tersebut hanya berjalan ketika ada push ke main. Dari sini, menurut saya definisi Continous Integration dan Continuous Deployment sudah terpenuhi meskipun mungkin tidak terlalu fully featured seperti project besar dan mungkin sebenarnya masih ada hal-hal lain yang diperlukan.